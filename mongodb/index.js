const _0x492c03=_0x22d9;(function(_0x810e81,_0x2f872e){const _0x4a26e2=_0x22d9,_0x5d2e75=_0x810e81();while(!![]){try{const _0x3376d2=parseInt(_0x4a26e2(0x1b6))/0x1*(parseInt(_0x4a26e2(0x207))/0x2)+parseInt(_0x4a26e2(0x1b9))/0x3*(-parseInt(_0x4a26e2(0x1dd))/0x4)+parseInt(_0x4a26e2(0x1fa))/0x5*(-parseInt(_0x4a26e2(0x1e9))/0x6)+parseInt(_0x4a26e2(0x1bd))/0x7+parseInt(_0x4a26e2(0x1a9))/0x8+parseInt(_0x4a26e2(0x1a8))/0x9*(parseInt(_0x4a26e2(0x1b4))/0xa)+-parseInt(_0x4a26e2(0x1b1))/0xb*(-parseInt(_0x4a26e2(0x1a6))/0xc);if(_0x3376d2===_0x2f872e)break;else _0x5d2e75['push'](_0x5d2e75['shift']());}catch(_0x46c5fa){_0x5d2e75['push'](_0x5d2e75['shift']());}}}(_0x5a35,0xaeca2));const {connectDB}=require(_0x492c03(0x1de)),{randomBytes}=require(_0x492c03(0x1fd)),authModel=require('./models/authModel.js'),badwordModel=require('./models/badwordModel.js'),chatModel=require(_0x492c03(0x1cd)),conversationModel=require(_0x492c03(0x1d2)),settingsModel=require(_0x492c03(0x1db)),stickerModel=require(_0x492c03(0x1f6)),userModel=require('./models/userModel.js'),warningModel=require(_0x492c03(0x1a3)),groupModel=require(_0x492c03(0x1c6));require(_0x492c03(0x1cb));let settingsCache=null;function _0x22d9(_0x252446,_0x545cf7){const _0x5a35fd=_0x5a35();return _0x22d9=function(_0x22d984,_0x5bdedf){_0x22d984=_0x22d984-0x1a3;let _0x3e94d9=_0x5a35fd[_0x22d984];return _0x3e94d9;},_0x22d9(_0x252446,_0x545cf7);}const retryOperation=async(_0x56eefa,_0x12aae0=0x3,_0x176c3a=0x3e8)=>{for(let _0x195714=0x0;_0x195714<_0x12aae0;_0x195714++){try{return await _0x56eefa();}catch(_0x18260b){if(_0x195714<_0x12aae0-0x1)await new Promise(_0x59c0e9=>setTimeout(_0x59c0e9,_0x176c3a));else throw _0x18260b;}}},addOwnerNumber=async _0x25496e=>{const _0x34156f=_0x492c03;try{let _0x224c19=await authModel[_0x34156f(0x1ff)]({});return _0x224c19?!_0x224c19['ownerNumbers']['includes'](_0x25496e)?(_0x224c19[_0x34156f(0x1ad)]['push'](_0x25496e),await _0x224c19[_0x34156f(0x1cf)](),_0x34156f(0x1f7)):'already.':(_0x224c19=new authModel({'ownerNumbers':[_0x25496e]}),await _0x224c19[_0x34156f(0x1cf)](),_0x34156f(0x1f7));}catch(_0x21955c){if(_0x21955c[_0x34156f(0x1c3)]===_0x34156f(0x218))return _0x34156f(0x218);else return _0x21955c[_0x34156f(0x1c3)]===_0x34156f(0x20b)?_0x34156f(0x20b):(console['error'](_0x34156f(0x1a4),_0x21955c),_0x34156f(0x1f8)+_0x25496e+'.');}},checkOwnerNumber=async _0x3b6328=>{const _0x2a9807=_0x492c03;try{const _0x14b6b1=await authModel[_0x2a9807(0x1ff)]({'ownerNumbers':_0x3b6328});return!!_0x14b6b1;}catch(_0xba4e06){throw _0xba4e06;}},getAuthNum=async()=>{const _0x324218=_0x492c03;try{const _0x41e167=await authModel[_0x324218(0x1ff)]({});return _0x41e167?_0x41e167[_0x324218(0x1ad)]:[];}catch(_0x19d366){throw _0x19d366;}},deleteOwnerNumber=async _0xfaa053=>{const _0x51fd63=_0x492c03;try{if(_0xfaa053===ownernumber)return _0x51fd63(0x1ac);const _0x1ee7ab=await authModel[_0x51fd63(0x1ff)]({});return _0x1ee7ab&&_0x1ee7ab[_0x51fd63(0x1ad)][_0x51fd63(0x1c2)](_0xfaa053)?(_0x1ee7ab[_0x51fd63(0x1ad)]=_0x1ee7ab[_0x51fd63(0x1ad)]['filter'](_0x44e378=>_0x44e378!==_0xfaa053),await _0x1ee7ab[_0x51fd63(0x1cf)](),_0x51fd63(0x1f5)):'Owner\x20number\x20not\x20found.';}catch(_0x38998c){return console[_0x51fd63(0x1e8)](_0x51fd63(0x1c9),_0x38998c),_0x51fd63(0x215);}},checkBadWordExists=async _0x41874e=>{const _0x2a7d66=_0x492c03;try{const _0x5cdc05=await badwordModel[_0x2a7d66(0x1ff)]({'word':_0x41874e});return _0x5cdc05!==null;}catch(_0x444a69){return console[_0x2a7d66(0x1e8)]('Error\x20checking\x20bad\x20word\x20existence:',_0x444a69),![];}},addBadWord=async _0x404f9c=>{const _0x381de2=_0x492c03;try{const _0x398e27=await badwordModel[_0x381de2(0x1ff)]({'word':_0x404f9c});if(_0x398e27)return'already';const _0x31f67f=new badwordModel({'word':_0x404f9c});return await _0x31f67f[_0x381de2(0x1cf)](),!![];}catch(_0x14e634){return![];}},deleteBadWord=async _0x3bfcde=>{const _0x416439=_0x492c03;try{const _0x31f3a2=await checkBadWordExists(_0x3bfcde);if(!_0x31f3a2)return'ðŸš«\x20Ê™á´€á´…\x20á´¡á´Ê€á´…\x20É´á´á´›\x20Ò“á´á´œÉ´á´….';const _0x1b2223=await badwordModel[_0x416439(0x1ca)]({'word':_0x3bfcde});if(_0x1b2223[_0x416439(0x211)]===0x0)return _0x416439(0x1e3);return _0x416439(0x20e);}catch(_0x55be48){return _0x416439(0x1e3);}},listBadWords=async()=>{const _0x2543fd=_0x492c03;try{const _0x33082e=await badwordModel[_0x2543fd(0x1bb)]({});return _0x33082e[_0x2543fd(0x1c4)](_0x553cad=>_0x553cad[_0x2543fd(0x1ce)]);}catch(_0x43a935){return'Error\x20fetching\x20bad\x20words.';}},banChat=async _0x50771a=>{const _0x4edf6f=_0x492c03;try{const _0x36ea16=await chatModel[_0x4edf6f(0x1e6)]({'chatId':_0x50771a},{'isBanned':!![]},{'new':!![],'upsert':!![]});return _0x36ea16;}catch(_0x4feb1c){throw _0x4feb1c;}},unbanChat=async _0x578b01=>{const _0x1bf988=_0x492c03;try{const _0x39fb69=await chatModel[_0x1bf988(0x1e6)]({'chatId':_0x578b01},{'isBanned':![]},{'new':!![]});return _0x39fb69;}catch(_0x1b274a){throw _0x1b274a;}},checkChatExists=async _0x1e44c0=>{try{const _0x17ec56=await chatModel['findOne']({'chatId':_0x1e44c0});return _0x17ec56?!![]:![];}catch(_0x18815b){throw _0x18815b;}},checkBanStatus=async _0x184a2c=>{const _0x5dca75=_0x492c03;try{const _0x5df67e=await chatModel[_0x5dca75(0x1ff)]({'chatId':_0x184a2c});if(_0x5df67e&&_0x5df67e['isBanned'])return!![];return![];}catch(_0x4c6374){throw _0x4c6374;}},updateChatStatus=async(_0x3e2125,_0x4b53cd)=>{const _0x4461c6=_0x492c03;try{let _0x216bdf=await chatModel['findOne']({'chatId':_0x3e2125});return _0x216bdf?(_0x216bdf[_0x4461c6(0x1e7)]=_0x4b53cd,await _0x216bdf['save']()):(_0x216bdf=new chatModel({'chatId':_0x3e2125,'isBanned':_0x4b53cd}),await _0x216bdf['save']()),_0x216bdf;}catch(_0x38b56){throw _0x38b56;}},getBannedChatsList=async()=>{const _0x1306b3=_0x492c03;try{const _0x384a51=await chatModel['find']({'isBanned':!![]});if(_0x384a51[_0x1306b3(0x1af)]>0x0){let _0x29c678=_0x1306b3(0x202);return _0x384a51[_0x1306b3(0x1aa)]((_0x3a55de,_0x2ad55f)=>{const _0x4a336b=_0x1306b3;_0x29c678+=_0x4a336b(0x1d9)+(_0x2ad55f+0x1)+_0x4a336b(0x1df)+_0x3a55de[_0x4a336b(0x1ef)]+'\x0a';}),_0x29c678;}else return _0x1306b3(0x204);}catch(_0xfd5976){return _0x1306b3(0x1ec);}},deleteAllChats=async()=>{const _0x1c9621=_0x492c03;try{const _0x12fbc5=await chatModel[_0x1c9621(0x212)]({});}catch(_0x5e316e){}},initializeUserConversations=async _0x3d1887=>{const _0x33ae07=_0x492c03;let _0x2262e9=await loadUserConversations(_0x3d1887);return _0x2262e9[_0x33ae07(0x1af)]===0x0&&(_0x2262e9=[{'role':'system','content':_0x33ae07(0x1f4)}],await saveUserConversations(_0x3d1887,_0x2262e9)),_0x2262e9;},loadUserConversations=async _0x12d534=>{const _0x36c5f1=_0x492c03;try{const _0x350b48=await conversationModel[_0x36c5f1(0x1ff)]({'sender':_0x12d534});return _0x350b48?_0x350b48[_0x36c5f1(0x1d5)]:[];}catch(_0xe8dbe9){return[];}},saveUserConversations=async(_0x9c1f9f,_0x1ad0db)=>{const _0x5a4ebc=_0x492c03,_0x467aaa=0xa;try{if(!Array[_0x5a4ebc(0x20c)](_0x1ad0db)||_0x1ad0db[_0x5a4ebc(0x1af)]===0x0)return;_0x1ad0db[_0x5a4ebc(0x1af)]>_0x467aaa&&(_0x1ad0db=_0x1ad0db[_0x5a4ebc(0x1f9)](-_0x467aaa));const _0x69f343=await conversationModel[_0x5a4ebc(0x1ab)]({'sender':_0x9c1f9f},{'$set':{'conversations':_0x1ad0db}},{'upsert':!![]});if(_0x69f343[_0x5a4ebc(0x1c8)]>0x0){}else{if(_0x69f343[_0x5a4ebc(0x1ed)]>0x0){}else{}}}catch(_0x2cf367){console[_0x5a4ebc(0x1e8)]('Error\x20saving\x20user\x20conversations\x20for\x20sender:\x20'+_0x9c1f9f,_0x2cf367);}},loadSettings=async()=>{const _0x97356c=_0x492c03;try{const _0x42ca98=await settingsModel[_0x97356c(0x1ff)]({});_0x42ca98?settingsCache=_0x42ca98[_0x97356c(0x1c7)]:settingsCache={};}catch(_0x26516e){}},getSettings=()=>{return settingsCache;},saveSettings=async _0x586b32=>{const _0x3d3da2=_0x492c03;try{const _0x5e5192=await settingsModel[_0x3d3da2(0x1ff)]({});if(_0x5e5192){for(const [_0x296d38,_0x391878]of Object['entries'](_0x586b32)){_0x5e5192[_0x3d3da2(0x1c7)]['set'](_0x296d38,_0x391878);}await _0x5e5192[_0x3d3da2(0x1cf)]();}else{const _0x28d2ba=new settingsModel({'settings':_0x586b32});await _0x28d2ba[_0x3d3da2(0x1cf)]();}console[_0x3d3da2(0x1b8)]('Settings\x20saved\x20or\x20updated\x20successfully.');}catch(_0x3811e0){console['error']('Failed\x20to\x20save\x20settings:',_0x3811e0);}},updateSettingsField=async(_0x17e575,_0x1e8769)=>{const _0xea29bc=_0x492c03;try{const _0x140af3={[_0xea29bc(0x1cc)+_0x17e575]:_0x1e8769},_0x1146eb=await settingsModel[_0xea29bc(0x1e6)]({},{'$set':_0x140af3},{'new':!![]});if(_0x1146eb)return _0xea29bc(0x1ea)+_0x17e575+_0xea29bc(0x1d4)+_0x1e8769;else{const _0x2d81c8={[_0x17e575]:_0x1e8769};await saveSettings(_0x2d81c8);}}catch(_0x576646){}},getSettingField=async _0xaf5142=>{const _0x58c98d=_0x492c03;try{const _0x15b377=await settingsModel[_0x58c98d(0x1ff)]({})[_0x58c98d(0x1c0)]('settings.'+_0xaf5142);return _0x15b377&&_0x15b377[_0x58c98d(0x1c7)]&&_0x15b377['settings']['has'](_0xaf5142)?_0x15b377[_0x58c98d(0x1c7)]['get'](_0xaf5142):null;}catch(_0x21cfc3){return null;}},addSticker=async(_0x27fe35,_0x1315fd,_0x3642bd,_0x738df8)=>{const _0xdac626=_0x492c03;if(!_0x27fe35||!_0x1315fd||!_0x738df8)return;try{const _0x34e9cb=await stickerModel['findOne']({[_0xdac626(0x213)+_0x27fe35]:{'$exists':!![]}});if(_0x34e9cb)return;const _0xdc9e10={'text':_0x1315fd,'mentionedJid':_0x3642bd,'creator':_0x738df8,'at':Date[_0xdac626(0x1e2)](),'locked':![]},_0x58de6a=await stickerModel[_0xdac626(0x1ff)]({});if(!_0x58de6a){const _0x15af1a=new stickerModel({'stickers':{[_0x27fe35]:_0xdc9e10}});await _0x15af1a[_0xdac626(0x1cf)]();}else _0x58de6a[_0xdac626(0x1ba)][_0xdac626(0x1be)](_0x27fe35,_0xdc9e10),await _0x58de6a[_0xdac626(0x1cf)]();}catch(_0x38b09f){throw _0x38b09f;}},getStickerById=async _0x5491ae=>{const _0x1da1ab=_0x492c03;if(!_0x5491ae)throw new Error(_0x1da1ab(0x1d7));try{const _0x535b89=await stickerModel[_0x1da1ab(0x1ff)]({[_0x1da1ab(0x213)+_0x5491ae]:{'$exists':!![]}});if(!_0x535b89)return null;const _0x58c1ba=_0x535b89[_0x1da1ab(0x1ba)][_0x1da1ab(0x1e5)](_0x5491ae);return _0x58c1ba;}catch(_0xde2321){throw _0xde2321;}},deleteStickerById=async _0x3c370f=>{const _0x101613=_0x492c03;if(!_0x3c370f)throw new Error(_0x101613(0x1d7));try{const _0xf3478a=await stickerModel[_0x101613(0x1ff)]({[_0x101613(0x213)+_0x3c370f]:{'$exists':!![]}});if(!_0xf3478a)return _0x101613(0x1bf);return _0xf3478a['stickers'][_0x101613(0x1dc)](_0x3c370f),_0xf3478a[_0x101613(0x1ba)][_0x101613(0x1e1)]===0x0?(await stickerModel[_0x101613(0x1ca)]({'_id':_0xf3478a[_0x101613(0x20a)]}),_0x101613(0x208)):(await _0xf3478a[_0x101613(0x1cf)](),_0x101613(0x1d8));}catch(_0x5214d3){throw _0x5214d3;}},getAllStickers=async()=>{const _0x362766=_0x492c03;try{const _0x558ddb=await stickerModel[_0x362766(0x1bb)]({});let _0x196a12=[];return _0x558ddb['forEach'](_0x11c202=>{const _0x1031b7=_0x362766;_0x11c202[_0x1031b7(0x1ba)][_0x1031b7(0x1aa)]((_0x1572a5,_0x4312df)=>{const _0x5cacd3=_0x1031b7;_0x196a12[_0x5cacd3(0x20f)]({'stickerId':_0x4312df,..._0x1572a5});});}),_0x196a12;}catch(_0x15c179){}},getAllStickerTexts=async()=>{const _0x222b61=_0x492c03;try{const _0x5c307d=await stickerModel[_0x222b61(0x1bb)](),_0x1075bd=[];for(const _0x4cd341 of _0x5c307d){const _0x3fc8f4=_0x4cd341[_0x222b61(0x1ba)];_0x3fc8f4[_0x222b61(0x1aa)]((_0x33873e,_0x5e362b)=>{const _0x2923d7=_0x222b61;_0x1075bd['push']({'text':_0x33873e[_0x2923d7(0x1a7)],'locked':_0x33873e[_0x2923d7(0x209)]});});}return _0x1075bd;}catch(_0x172cd5){return[];}},deleteAllStickers=async()=>{const _0x2bcb93=_0x492c03;try{const _0x19cfb1=await stickerModel[_0x2bcb93(0x212)]({});return _0x19cfb1[_0x2bcb93(0x211)]+_0x2bcb93(0x1fe);}catch(_0x1e7b43){}},deleteLockedFalseStickers=async()=>{const _0x1abd3e=_0x492c03;try{const _0x4916e2=await stickerModel[_0x1abd3e(0x1bb)]();let _0x33cb52=0x0;for(const _0x330355 of _0x4916e2){const _0x45bdc4=_0x330355[_0x1abd3e(0x1ba)];let _0x10b26a=[];for(const [_0x15fc73,_0x2b2a91]of _0x45bdc4['entries']()){!_0x2b2a91[_0x1abd3e(0x209)]&&_0x10b26a[_0x1abd3e(0x20f)](_0x15fc73);}if(_0x10b26a[_0x1abd3e(0x1af)]>0x0){for(const _0x3cd012 of _0x10b26a){_0x45bdc4[_0x1abd3e(0x1dc)](_0x3cd012),_0x33cb52++;}await _0x330355[_0x1abd3e(0x1cf)]();}}}catch(_0xe10a17){}},lockStickerById=async _0x172663=>{const _0x468ee6=_0x492c03;try{const _0x874332=await stickerModel['find']();for(const _0x13377c of _0x874332){const _0x4d4b30=_0x13377c[_0x468ee6(0x1ba)];if(_0x4d4b30[_0x468ee6(0x1b3)](_0x172663)){const _0x105b25=_0x4d4b30[_0x468ee6(0x1e5)](_0x172663);if(_0x105b25['locked'])return'alreadyLocked';return _0x105b25['locked']=!![],await _0x13377c['save'](),'locked';}}return'notFound';}catch(_0x285cd1){return _0x468ee6(0x1e8);}},isStickerLocked=async _0x237c51=>{const _0xbd2308=_0x492c03;try{const _0x120551=await stickerModel[_0xbd2308(0x1bb)]();for(const _0x2985b3 of _0x120551){const _0x1d235a=_0x2985b3[_0xbd2308(0x1ba)];if(_0x1d235a[_0xbd2308(0x1b3)](_0x237c51)){const _0x2827a9=_0x1d235a[_0xbd2308(0x1e5)](_0x237c51);return _0x2827a9[_0xbd2308(0x209)];}}return![];}catch(_0x50295f){return![];}},doesStickerIdExist=async _0x90142=>{const _0x4de987=_0x492c03;try{const _0x643043=await stickerModel[_0x4de987(0x1bb)]();for(const _0x7794f6 of _0x643043){const _0x45057f=_0x7794f6[_0x4de987(0x1ba)];if(_0x45057f[_0x4de987(0x1b3)](_0x90142))return!![];}return![];}catch(_0xc3f895){return![];}},getStickerByHash=async _0x119e75=>{const _0x42403c=_0x492c03;try{const _0x543cce=await stickerModel[_0x42403c(0x1bb)]();for(const _0x392fb2 of _0x543cce){const _0x4d9022=_0x392fb2[_0x42403c(0x1ba)];if(_0x4d9022[_0x42403c(0x1b3)](_0x119e75))return _0x4d9022['get'](_0x119e75);}return null;}catch(_0x41df87){return null;}},banUser=async(_0x50da7f,_0x13c70a,_0x540700)=>{const _0x5a581b=_0x492c03;try{const _0x16792d=await userModel[_0x5a581b(0x1ff)]({'jid':_0x50da7f});if(_0x16792d){const _0x569449=await userModel[_0x5a581b(0x1e6)]({'jid':_0x50da7f},{'isBanned':!![]},{'upsert':!![]});return _0x569449;}else{const _0x5b2fb7=randomBytes(0x10)[_0x5a581b(0x200)]('hex'),_0x350d61={'jid':_0x50da7f,'name':_0x13c70a,'serialNumber':_0x5b2fb7,'phoneNumber':_0x540700,'isBanned':!![],'createdAt':new Date()},_0x40cc1e=new userModel(_0x350d61);return await _0x40cc1e[_0x5a581b(0x1cf)](),_0x40cc1e;}}catch(_0x410c31){return![];}},unbanUser=async _0x137ac3=>{const _0x98e81f=_0x492c03;try{const _0x11ae09=await userModel[_0x98e81f(0x1ff)]({'jid':_0x137ac3});if(!_0x11ae09)return _0x98e81f(0x1d6);if(!_0x11ae09['isBanned'])return _0x98e81f(0x1d0);const _0x3579e1=await resetWarningCount(_0x137ac3);if(!_0x3579e1)return![];return _0x11ae09['isBanned']=![],await _0x11ae09[_0x98e81f(0x1cf)](),!![];}catch(_0x2a324c){return![];}},isUserBanned=async _0x1165db=>{const _0x3a90ae=_0x492c03;try{const _0x35e08a=await userModel['findOne']({'jid':_0x1165db});if(!_0x35e08a)return![];return _0x35e08a[_0x3a90ae(0x1e7)];}catch(_0x4cc768){return _0x4cc768;}},addUser=async(_0x59fd9b,_0x2b8065,_0x5d00d3)=>{const _0x4fa1a6=_0x492c03;try{const _0x57e9a9=await userModel['findOne']({'jid':_0x59fd9b});if(_0x57e9a9)return;const _0x3e63e4=randomBytes(0x10)[_0x4fa1a6(0x200)](_0x4fa1a6(0x217)),_0x537c4d={'jid':_0x59fd9b,'name':_0x2b8065,'serialNumber':_0x3e63e4,'phoneNumber':_0x5d00d3,'isBanned':![],'createdAt':new Date()},_0x141570=new userModel(_0x537c4d);await _0x141570[_0x4fa1a6(0x1cf)]();}catch(_0x3cc99b){if(_0x3cc99b[_0x4fa1a6(0x1ee)]===0x2af8){}else return![];}},getAllUserPhoneNumbers=async()=>{const _0x2b915b=_0x492c03;try{const _0x55d73e=await userModel[_0x2b915b(0x1bb)]({},_0x2b915b(0x1f3));return _0x55d73e['map'](_0x5dd4d1=>_0x5dd4d1['jid']);}catch(_0x2fe0f0){return![];}},addWarning=async _0x2ce5b1=>{const _0x361365=_0x492c03;try{let _0x440b95=await warningModel[_0x361365(0x1ff)]({'userId':_0x2ce5b1});return!_0x440b95?_0x440b95=new warningModel({'userId':_0x2ce5b1,'count':0x1}):_0x440b95[_0x361365(0x216)]+=0x1,await _0x440b95[_0x361365(0x1cf)](),_0x440b95[_0x361365(0x216)];}catch(_0x23ba79){return _0x361365(0x1b5);}},resetWarningCount=async _0xb5ba9c=>{const _0x19a029=_0x492c03;try{let _0x58b1ab=await warningModel['findOne']({'userId':_0xb5ba9c});return _0x58b1ab&&(_0x58b1ab['count']=0x0,await _0x58b1ab[_0x19a029(0x1cf)]()),_0x58b1ab?_0x58b1ab[_0x19a029(0x216)]:0x0;}catch(_0x27c81a){return![];}},getWarningCount=async _0x44b326=>{const _0x137b87=_0x492c03;try{const _0x42806a=await warningModel['findOne']({'userId':_0x44b326});return _0x42806a?_0x42806a['count']:0x0;}catch(_0x488057){return _0x137b87(0x1f1);}},opentime=async(_0x2d6b91,_0x3b4dc2)=>{const _0x306f31=_0x492c03,_0x1b4afd=new Date(Date[_0x306f31(0x1e2)]()+_0x3b4dc2);try{const _0x3ef341=await groupModel[_0x306f31(0x1e6)]({'groupId':_0x2d6b91},{'openAt':_0x1b4afd,'openStatus':_0x306f31(0x1f2)},{'upsert':!![],'new':!![]});return{'success':!![],'openAt':_0x3ef341['openAt']};}catch(_0x3dea67){return{'success':![],'error':_0x3dea67};}},closetime=async(_0x4fb3c7,_0x5e5585)=>{const _0x2354af=_0x492c03,_0x3e1273=new Date(Date['now']()+_0x5e5585);try{const _0x13da6e=await groupModel[_0x2354af(0x1e6)]({'groupId':_0x4fb3c7},{'closeAt':_0x3e1273,'closeStatus':'pending'},{'upsert':!![],'new':!![]});return{'success':!![],'closeAt':_0x13da6e['closeAt']};}catch(_0x427257){return{'success':![],'error':_0x427257};}},checkGroupStatus=async _0x52b0fd=>{const _0x507563=_0x492c03;try{const _0x2464ad=await groupModel[_0x507563(0x1ff)]({'groupId':_0x52b0fd});if(!_0x2464ad)return{'status':'not_found','message':_0x507563(0x1c1)};const _0xc79872=new Date();if(_0x2464ad[_0x507563(0x1f0)]&&_0x2464ad[_0x507563(0x1f0)]>_0xc79872&&_0x2464ad[_0x507563(0x1e4)]==='pending')return{'status':_0x507563(0x1da),'message':_0x507563(0x1a5)};if(_0x2464ad[_0x507563(0x206)]&&_0x2464ad['closeAt']>_0xc79872&&_0x2464ad[_0x507563(0x1e0)]===_0x507563(0x1f2))return{'status':_0x507563(0x1c5),'message':_0x507563(0x1bc)};if(_0x2464ad['openAt']&&_0x2464ad[_0x507563(0x1f0)]<=_0xc79872&&_0x2464ad[_0x507563(0x1e4)]===_0x507563(0x1eb)&&(!_0x2464ad[_0x507563(0x206)]||_0x2464ad[_0x507563(0x206)]>_0xc79872||_0x2464ad[_0x507563(0x1e0)]===_0x507563(0x1f2)))return{'status':_0x507563(0x20d),'message':'Group\x20is\x20currently\x20open.'};if(_0x2464ad[_0x507563(0x206)]&&_0x2464ad[_0x507563(0x206)]<=_0xc79872&&_0x2464ad['closeStatus']===_0x507563(0x1eb))return{'status':'closed','message':_0x507563(0x1b0)};return{'status':_0x507563(0x1b7),'message':_0x507563(0x210)};}catch(_0x17f0fb){return{'status':_0x507563(0x1e8),'error':_0x17f0fb};}},checkScheduledGroups=async _0x19e0e4=>{const _0x61b882=_0x492c03;try{const _0x4072e9=new Date(),_0x22a0cc=await groupModel[_0x61b882(0x1bb)]({'$or':[{'closeAt':{'$lte':_0x4072e9},'closeStatus':_0x61b882(0x1f2)},{'openAt':{'$lte':_0x4072e9},'openStatus':'pending'}]});for(const _0x5e95ae of _0x22a0cc){try{_0x5e95ae['closeAt']&&_0x5e95ae[_0x61b882(0x206)]<=_0x4072e9&&_0x5e95ae[_0x61b882(0x1e0)]==='pending'&&(await _0x19e0e4[_0x61b882(0x1fc)](_0x5e95ae[_0x61b882(0x201)],_0x61b882(0x214)),await _0x19e0e4['sendMessage'](_0x5e95ae[_0x61b882(0x201)],{'text':_0x61b882(0x1fb)}),await groupModel[_0x61b882(0x1ab)]({'groupId':_0x5e95ae[_0x61b882(0x201)]},{'closeStatus':_0x61b882(0x1eb)})),_0x5e95ae[_0x61b882(0x1f0)]&&_0x5e95ae['openAt']<=_0x4072e9&&_0x5e95ae[_0x61b882(0x1e4)]===_0x61b882(0x1f2)&&(await _0x19e0e4[_0x61b882(0x1fc)](_0x5e95ae['groupId'],_0x61b882(0x205)),await _0x19e0e4[_0x61b882(0x1d3)](_0x5e95ae[_0x61b882(0x201)],{'text':_0x61b882(0x1ae)}),await groupModel[_0x61b882(0x1ab)]({'groupId':_0x5e95ae['groupId']},{'openStatus':_0x61b882(0x1eb)}));}catch(_0x44bb5d){console[_0x61b882(0x1e8)]('[ScheduledUpdateError]\x20'+_0x5e95ae[_0x61b882(0x201)],_0x44bb5d[_0x61b882(0x203)]);}}}catch(_0x49a559){console[_0x61b882(0x1e8)](_0x61b882(0x1b2),_0x49a559[_0x61b882(0x203)]);}};function _0x5a35(){const _0x332435=['delete','172mrTbHd','./mongodb.js','.\x20á´„Êœá´€á´›\x20Éªá´…:\x20','closeStatus','size','now','ðŸš«\x20á´‡Ê€Ê€á´Ê€\x20á´…á´‡ÊŸá´‡á´›ÉªÉ´É¢\x20Ê™á´€á´…\x20á´¡á´Ê€á´….','openStatus','get','findOneAndUpdate','isBanned','error','6KETbGI','Setting\x20updated:\x20','done','âŒ\x20á´€É´\x20á´‡Ê€Ê€á´Ê€\x20á´á´„á´„á´œÊ€Ê€á´‡á´…\x20á´¡ÊœÉªÊŸá´‡\x20Ê€á´‡á´›Ê€Éªá´‡á´ ÉªÉ´É¢\x20á´›Êœá´‡\x20ÊŸÉªsá´›\x20á´Ò“\x20Ê™á´€É´É´á´‡á´…\x20á´„Êœá´€á´›s.','upsertedCount','code','chatId','openAt','Failed\x20to\x20fetch\x20warning\x20count.','pending','jid','You\x20are\x20a\x20helpful\x20assistant.','Owner\x20number\x20deleted\x20successfully.','./models/stickerModel.js','successfully','An\x20unexpected\x20error\x20occurred\x20while\x20adding\x20number\x20','slice','4218860uLzHdV','ðŸš«\x20*É¢Ê€á´á´œá´˜\x20á´€á´œá´›á´á´á´€á´›Éªá´„á´€ÊŸÊŸÊ\x20á´„ÊŸá´sá´‡á´….*\x0a*á´É´ÊŸÊ\x20á´€á´…á´ÉªÉ´s\x20á´„á´€É´\x20á´á´‡ssá´€É¢á´‡.*','groupSettingUpdate','crypto','\x20stickers\x20deleted\x20successfully','findOne','toString','groupId','âœ¯\x20Ê™á´€É´É´á´‡á´…\x20á´„Êœá´€á´›s\x20âœ¯\x0a\x0a','message','âŒ\x20á´›Êœá´‡Ê€á´‡\x20á´€Ê€á´‡\x20É´á´\x20Ê™á´€É´É´á´‡á´…\x20á´„Êœá´€á´›s.','not_announcement','closeAt','1404386KrUmoK','documentDeleted','locked','_id','MongoError','isArray','opened','âœ…\x20Ê™á´€á´…\x20á´¡á´Ê€á´…\x20á´…á´‡ÊŸá´‡á´›á´‡á´…\x20sá´œá´„á´„á´‡ssÒ“á´œÊŸÊŸÊ.','push','Group\x20status\x20is\x20unclear.','deletedCount','deleteMany','stickers.','announcement','Error\x20deleting\x20owner\x20number.','count','hex','ValidationError','./models/warningModel.js','Unexpected\x20Error:','Group\x20open\x20is\x20scheduled.','4391328SQzeIA','text','645723fVURfq','539936MoDqZr','forEach','updateOne','Cannot\x20delete\x20the\x20main\x20owner\x20number.','ownerNumbers','ðŸŒŸ\x20*É¢Ê€á´á´œá´˜\x20á´€á´œá´›á´á´á´€á´›Éªá´„á´€ÊŸÊŸÊ\x20á´á´˜á´‡É´á´‡á´….*\x0a*á´á´‡á´Ê™á´‡Ê€s\x20á´„á´€É´\x20sá´‡É´á´…\x20á´á´‡ssá´€É¢á´‡s.*','length','Group\x20is\x20already\x20closed.','11tyzTlI','Scheduled\x20group\x20check\x20failed:','has','170LgeVnP','Failed\x20to\x20add\x20warning.','1rUqQNZ','unknown','log','59253PCYjzF','stickers','find','Group\x20close\x20is\x20scheduled.','375725ziDCaD','set','notFound','select','Group\x20not\x20scheduled\x20yet.','includes','name','map','close_pending','./models/groupModel.js','settings','modifiedCount','Error\x20deleting\x20owner\x20number:','deleteOne','../settings.js','settings.','./models/chatModel.js','word','save','notbanned','exports','./models/conversationModel.js','sendMessage','\x20=\x20','conversations','notfound','Missing\x20required\x20field:\x20stickerId','deleted','ð“†©\x20','open_pending','./models/settingsModel.js'];_0x5a35=function(){return _0x332435;};return _0x5a35();}module[_0x492c03(0x1d1)]={'saveSettings':saveSettings,'updateSettingsField':updateSettingsField,'getSettingField':getSettingField,'addUser':addUser,'getSettings':getSettings,'loadSettings':loadSettings,'addSticker':addSticker,'getStickerById':getStickerById,'deleteStickerById':deleteStickerById,'getAllStickers':getAllStickers,'getAllStickerTexts':getAllStickerTexts,'deleteAllStickers':deleteAllStickers,'deleteLockedFalseStickers':deleteLockedFalseStickers,'lockStickerById':lockStickerById,'isStickerLocked':isStickerLocked,'doesStickerIdExist':doesStickerIdExist,'getStickerByHash':getStickerByHash,'getAllUserPhoneNumbers':getAllUserPhoneNumbers,'unbanUser':unbanUser,'banUser':banUser,'unbanChat':unbanChat,'banChat':banChat,'checkChatExists':checkChatExists,'checkBanStatus':checkBanStatus,'updateChatStatus':updateChatStatus,'getBannedChatsList':getBannedChatsList,'deleteAllChats':deleteAllChats,'addOwnerNumber':addOwnerNumber,'getAuthNum':getAuthNum,'deleteOwnerNumber':deleteOwnerNumber,'checkOwnerNumber':checkOwnerNumber,'addBadWord':addBadWord,'deleteBadWord':deleteBadWord,'listBadWords':listBadWords,'addWarning':addWarning,'getWarningCount':getWarningCount,'isUserBanned':isUserBanned,'initializeUserConversations':initializeUserConversations,'loadUserConversations':loadUserConversations,'saveUserConversations':saveUserConversations,'opentime':opentime,'closetime':closetime,'checkGroupStatus':checkGroupStatus,'checkScheduledGroups':checkScheduledGroups};