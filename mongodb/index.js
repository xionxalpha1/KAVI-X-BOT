const _0x4b2b2e=_0x4b08;(function(_0x145224,_0x53de7b){const _0x83adaf=_0x4b08,_0x51bd5e=_0x145224();while(!![]){try{const _0x219dbb=-parseInt(_0x83adaf(0x109))/0x1*(parseInt(_0x83adaf(0xf3))/0x2)+parseInt(_0x83adaf(0x115))/0x3+-parseInt(_0x83adaf(0xf7))/0x4*(-parseInt(_0x83adaf(0x114))/0x5)+-parseInt(_0x83adaf(0xf1))/0x6+parseInt(_0x83adaf(0x104))/0x7+parseInt(_0x83adaf(0xd3))/0x8+-parseInt(_0x83adaf(0x108))/0x9;if(_0x219dbb===_0x53de7b)break;else _0x51bd5e['push'](_0x51bd5e['shift']());}catch(_0x22285b){_0x51bd5e['push'](_0x51bd5e['shift']());}}}(_0x18c1,0x936f0));function _0x4b08(_0x2b988f,_0xfd3977){const _0x18c196=_0x18c1();return _0x4b08=function(_0x4b08bf,_0x40728c){_0x4b08bf=_0x4b08bf-0xcc;let _0x3666fc=_0x18c196[_0x4b08bf];return _0x3666fc;},_0x4b08(_0x2b988f,_0xfd3977);}function _0x18c1(){const _0x5442df=['has','count','65SzATSM','2711877EPhyXd','forEach','Settings\x20saved\x20or\x20updated\x20successfully.','âŒ\x20á´›Êœá´‡Ê€á´‡\x20á´€Ê€á´‡\x20É´á´\x20Ê™á´€É´É´á´‡á´…\x20á´„Êœá´€á´›s.','locked','ValidationError','notFound','deleteMany','opened','toString','âŒ\x20á´€É´\x20á´‡Ê€Ê€á´Ê€\x20á´á´„á´„á´œÊ€Ê€á´‡á´…\x20á´¡ÊœÉªÊŸá´‡\x20Ê€á´‡á´›Ê€Éªá´‡á´ ÉªÉ´É¢\x20á´›Êœá´‡\x20ÊŸÉªsá´›\x20á´Ò“\x20Ê™á´€É´É´á´‡á´…\x20á´„Êœá´€á´›s.','not_found','chatId','jid','close_pending','text','deletedCount','Group\x20close\x20is\x20scheduled.','name','Error\x20deleting\x20owner\x20number:','closeStatus','pending','MongoError','./models/badwordModel.js','../settings.js','Group\x20not\x20scheduled\x20yet.','Scheduled\x20group\x20check\x20failed:','\x20stickers\x20deleted\x20successfully','notfound','set','isBanned','save','notbanned','openStatus','alreadyLocked','./models/settingsModel.js','groupSettingUpdate','system','Group\x20is\x20currently\x20open.','find','closeAt','settings','select','updateOne','deleted','Error\x20fetching\x20bad\x20words.','./models/conversationModel.js','./models/stickerModel.js','7496288fOgOVI','./mongodb.js','ownerNumbers','deleteOne','stickers','error','ðŸŒŸ\x20*É¢Ê€á´á´œá´˜\x20á´€á´œá´›á´á´á´€á´›Éªá´„á´€ÊŸÊŸÊ\x20á´á´˜á´‡É´á´‡á´….*\x0a*á´á´‡á´Ê™á´‡Ê€s\x20á´„á´€É´\x20sá´‡É´á´…\x20á´á´‡ssá´€É¢á´‡s.*','closed','./models/userModel.js','slice','Failed\x20to\x20save\x20settings:','openAt','./models/authModel.js','Cannot\x20delete\x20the\x20main\x20owner\x20number.','groupId','push','includes','[ScheduledUpdateError]\x20','documentDeleted','exports','settings.','stickers.','delete','open_pending','not_announcement','Group\x20is\x20already\x20closed.','already','findOne','Failed\x20to\x20fetch\x20warning\x20count.','Owner\x20number\x20deleted\x20successfully.','1781322DFFEKJ','code','153278faSUTc','ðŸš«\x20*É¢Ê€á´á´œá´˜\x20á´€á´œá´›á´á´á´€á´›Éªá´„á´€ÊŸÊŸÊ\x20á´„ÊŸá´sá´‡á´….*\x0a*á´É´ÊŸÊ\x20á´€á´…á´ÉªÉ´s\x20á´„á´€É´\x20á´á´‡ssá´€É¢á´‡.*','Group\x20status\x20is\x20unclear.','Setting\x20updated:\x20','371528NiyZOW','now','successfully','sendMessage','âœ¯\x20Ê™á´€É´É´á´‡á´…\x20á´„Êœá´€á´›s\x20âœ¯\x0a\x0a','\x20=\x20','Error\x20deleting\x20owner\x20number.','get','findOneAndUpdate','ðŸš«\x20á´‡Ê€Ê€á´Ê€\x20á´…á´‡ÊŸá´‡á´›ÉªÉ´É¢\x20Ê™á´€á´…\x20á´¡á´Ê€á´….','length','already.','.\x20á´„Êœá´€á´›\x20Éªá´…:\x20','7811839SiGdFD','Owner\x20number\x20not\x20found.','hex','map','25924212RjsTKe','5FAeHUh','message','Missing\x20required\x20field:\x20stickerId','isArray','unknown','./models/groupModel.js','upsertedCount','modifiedCount','done'];_0x18c1=function(){return _0x5442df;};return _0x18c1();}const {connectDB}=require(_0x4b2b2e(0xd4)),{randomBytes}=require('crypto'),authModel=require(_0x4b2b2e(0xdf)),badwordModel=require(_0x4b2b2e(0x12c)),chatModel=require('./models/chatModel.js'),conversationModel=require(_0x4b2b2e(0xd1)),settingsModel=require(_0x4b2b2e(0x138)),stickerModel=require(_0x4b2b2e(0xd2)),userModel=require(_0x4b2b2e(0xdb)),warningModel=require('./models/warningModel.js'),groupModel=require(_0x4b2b2e(0x10e));require(_0x4b2b2e(0x12d));let settingsCache=null;const retryOperation=async(_0x2ba938,_0x131ee8=0x3,_0x4bc331=0x3e8)=>{for(let _0x25f7aa=0x0;_0x25f7aa<_0x131ee8;_0x25f7aa++){try{return await _0x2ba938();}catch(_0x43aee6){if(_0x25f7aa<_0x131ee8-0x1)await new Promise(_0x41d78b=>setTimeout(_0x41d78b,_0x4bc331));else throw _0x43aee6;}}},addOwnerNumber=async _0x2a16f9=>{const _0x3e91c9=_0x4b2b2e;try{let _0x5f12f0=await authModel[_0x3e91c9(0xee)]({});return _0x5f12f0?!_0x5f12f0[_0x3e91c9(0xd5)]['includes'](_0x2a16f9)?(_0x5f12f0['ownerNumbers'][_0x3e91c9(0xe2)](_0x2a16f9),await _0x5f12f0[_0x3e91c9(0x134)](),_0x3e91c9(0xf9)):_0x3e91c9(0x102):(_0x5f12f0=new authModel({'ownerNumbers':[_0x2a16f9]}),await _0x5f12f0[_0x3e91c9(0x134)](),_0x3e91c9(0xf9));}catch(_0x168402){if(_0x168402[_0x3e91c9(0x127)]===_0x3e91c9(0x11a))return _0x3e91c9(0x11a);else return _0x168402['name']==='MongoError'?_0x3e91c9(0x12b):(console['error']('Unexpected\x20Error:',_0x168402),'An\x20unexpected\x20error\x20occurred\x20while\x20adding\x20number\x20'+_0x2a16f9+'.');}},checkOwnerNumber=async _0x37bbf9=>{const _0x26187d=_0x4b2b2e;try{const _0x441430=await authModel[_0x26187d(0xee)]({'ownerNumbers':_0x37bbf9});return!!_0x441430;}catch(_0x57cbea){throw _0x57cbea;}},getAuthNum=async()=>{const _0x35688c=_0x4b2b2e;try{const _0x44d6c8=await authModel[_0x35688c(0xee)]({});return _0x44d6c8?_0x44d6c8[_0x35688c(0xd5)]:[];}catch(_0xeedf3e){throw _0xeedf3e;}},deleteOwnerNumber=async _0x1eb144=>{const _0x175033=_0x4b2b2e;try{if(_0x1eb144===ownernumber)return _0x175033(0xe0);const _0x4ec1bb=await authModel[_0x175033(0xee)]({});return _0x4ec1bb&&_0x4ec1bb[_0x175033(0xd5)][_0x175033(0xe3)](_0x1eb144)?(_0x4ec1bb['ownerNumbers']=_0x4ec1bb[_0x175033(0xd5)]['filter'](_0x58da90=>_0x58da90!==_0x1eb144),await _0x4ec1bb[_0x175033(0x134)](),_0x175033(0xf0)):_0x175033(0x105);}catch(_0x4c57e3){return console['error'](_0x175033(0x128),_0x4c57e3),_0x175033(0xfd);}},checkBadWordExists=async _0x13296e=>{const _0x4f2688=_0x4b2b2e;try{const _0x407327=await badwordModel[_0x4f2688(0xee)]({'word':_0x13296e});return _0x407327!==null;}catch(_0x1554f){return console[_0x4f2688(0xd8)]('Error\x20checking\x20bad\x20word\x20existence:',_0x1554f),![];}},addBadWord=async _0x2f06ee=>{const _0x27bd32=_0x4b2b2e;try{const _0x55f10e=await badwordModel['findOne']({'word':_0x2f06ee});if(_0x55f10e)return _0x27bd32(0xed);const _0x4e8823=new badwordModel({'word':_0x2f06ee});return await _0x4e8823[_0x27bd32(0x134)](),!![];}catch(_0x5d231c){return![];}},deleteBadWord=async _0x388524=>{const _0x3b19b0=_0x4b2b2e;try{const _0x394119=await checkBadWordExists(_0x388524);if(!_0x394119)return'ðŸš«\x20Ê™á´€á´…\x20á´¡á´Ê€á´…\x20É´á´á´›\x20Ò“á´á´œÉ´á´….';const _0x5281e3=await badwordModel[_0x3b19b0(0xd6)]({'word':_0x388524});if(_0x5281e3[_0x3b19b0(0x125)]===0x0)return _0x3b19b0(0x100);return'âœ…\x20Ê™á´€á´…\x20á´¡á´Ê€á´…\x20á´…á´‡ÊŸá´‡á´›á´‡á´…\x20sá´œá´„á´„á´‡ssÒ“á´œÊŸÊŸÊ.';}catch(_0x1aa44a){return _0x3b19b0(0x100);}},listBadWords=async()=>{const _0x468536=_0x4b2b2e;try{const _0x329936=await badwordModel[_0x468536(0x13c)]({});return _0x329936[_0x468536(0x107)](_0x4969a3=>_0x4969a3['word']);}catch(_0xfefaf7){return _0x468536(0xd0);}},banChat=async _0x3b221f=>{try{const _0x3ad794=await chatModel['findOneAndUpdate']({'chatId':_0x3b221f},{'isBanned':!![]},{'new':!![],'upsert':!![]});return _0x3ad794;}catch(_0x3d3f0f){throw _0x3d3f0f;}},unbanChat=async _0x3ac667=>{const _0x3db455=_0x4b2b2e;try{const _0x36f284=await chatModel[_0x3db455(0xff)]({'chatId':_0x3ac667},{'isBanned':![]},{'new':!![]});return _0x36f284;}catch(_0x7a4be6){throw _0x7a4be6;}},checkChatExists=async _0x408959=>{try{const _0x136232=await chatModel['findOne']({'chatId':_0x408959});return _0x136232?!![]:![];}catch(_0x445431){throw _0x445431;}},checkBanStatus=async _0x640f90=>{const _0x4c0569=_0x4b2b2e;try{const _0x2d8d5d=await chatModel[_0x4c0569(0xee)]({'chatId':_0x640f90});if(_0x2d8d5d&&_0x2d8d5d['isBanned'])return!![];return![];}catch(_0x384d84){throw _0x384d84;}},updateChatStatus=async(_0x218cf3,_0x3cbbb7)=>{const _0x6baf65=_0x4b2b2e;try{let _0x1acf79=await chatModel['findOne']({'chatId':_0x218cf3});return _0x1acf79?(_0x1acf79[_0x6baf65(0x133)]=_0x3cbbb7,await _0x1acf79[_0x6baf65(0x134)]()):(_0x1acf79=new chatModel({'chatId':_0x218cf3,'isBanned':_0x3cbbb7}),await _0x1acf79[_0x6baf65(0x134)]()),_0x1acf79;}catch(_0x4f6d9c){throw _0x4f6d9c;}},getBannedChatsList=async()=>{const _0xc97091=_0x4b2b2e;try{const _0x2babbb=await chatModel[_0xc97091(0x13c)]({'isBanned':!![]});if(_0x2babbb[_0xc97091(0x101)]>0x0){let _0xd6b5a5=_0xc97091(0xfb);return _0x2babbb['forEach']((_0x55cc8e,_0x4e80a1)=>{const _0x391d22=_0xc97091;_0xd6b5a5+='ð“†©\x20'+(_0x4e80a1+0x1)+_0x391d22(0x103)+_0x55cc8e[_0x391d22(0x121)]+'\x0a';}),_0xd6b5a5;}else return _0xc97091(0x118);}catch(_0x510807){return _0xc97091(0x11f);}},deleteAllChats=async()=>{const _0x39ba59=_0x4b2b2e;try{const _0x3b54f1=await chatModel[_0x39ba59(0x11c)]({});}catch(_0x1ae592){}},initializeUserConversations=async _0x204342=>{const _0xfc8c10=_0x4b2b2e;let _0x1568b8=await loadUserConversations(_0x204342);return _0x1568b8[_0xfc8c10(0x101)]===0x0&&(_0x1568b8=[{'role':_0xfc8c10(0x13a),'content':'You\x20are\x20a\x20helpful\x20assistant.'}],await saveUserConversations(_0x204342,_0x1568b8)),_0x1568b8;},loadUserConversations=async _0x3ebdda=>{try{const _0x5c6d8d=await conversationModel['findOne']({'sender':_0x3ebdda});return _0x5c6d8d?_0x5c6d8d['conversations']:[];}catch(_0x146f94){return[];}},saveUserConversations=async(_0x1360cb,_0x577f02)=>{const _0x26289d=_0x4b2b2e,_0x41ca1a=0xa;try{if(!Array[_0x26289d(0x10c)](_0x577f02)||_0x577f02[_0x26289d(0x101)]===0x0)return;_0x577f02['length']>_0x41ca1a&&(_0x577f02=_0x577f02[_0x26289d(0xdc)](-_0x41ca1a));const _0x210be3=await conversationModel['updateOne']({'sender':_0x1360cb},{'$set':{'conversations':_0x577f02}},{'upsert':!![]});if(_0x210be3[_0x26289d(0x110)]>0x0){}else{if(_0x210be3[_0x26289d(0x10f)]>0x0){}else{}}}catch(_0x49d670){console[_0x26289d(0xd8)]('Error\x20saving\x20user\x20conversations\x20for\x20sender:\x20'+_0x1360cb,_0x49d670);}},loadSettings=async()=>{const _0x16f0c5=_0x4b2b2e;try{const _0x3228ad=await settingsModel[_0x16f0c5(0xee)]({});_0x3228ad?settingsCache=_0x3228ad['settings']:settingsCache={};}catch(_0x1c77f2){}},getSettings=()=>{return settingsCache;},saveSettings=async _0x16d2e0=>{const _0x5be385=_0x4b2b2e;try{const _0x1fd645=await settingsModel[_0x5be385(0xee)]({});if(_0x1fd645){for(const [_0x2c36dc,_0x330537]of Object['entries'](_0x16d2e0)){_0x1fd645[_0x5be385(0xcc)][_0x5be385(0x132)](_0x2c36dc,_0x330537);}await _0x1fd645['save']();}else{const _0x189740=new settingsModel({'settings':_0x16d2e0});await _0x189740[_0x5be385(0x134)]();}console['log'](_0x5be385(0x117));}catch(_0x27693a){console[_0x5be385(0xd8)](_0x5be385(0xdd),_0x27693a);}},updateSettingsField=async(_0x303b3c,_0x2d3cf9)=>{const _0xd902fe=_0x4b2b2e;try{const _0x4d763e={[_0xd902fe(0xe7)+_0x303b3c]:_0x2d3cf9},_0x31e824=await settingsModel[_0xd902fe(0xff)]({},{'$set':_0x4d763e},{'new':!![]});if(_0x31e824)return _0xd902fe(0xf6)+_0x303b3c+_0xd902fe(0xfc)+_0x2d3cf9;else{const _0x3b51ef={[_0x303b3c]:_0x2d3cf9};await saveSettings(_0x3b51ef);}}catch(_0x26cca9){}},getSettingField=async _0x2c6c36=>{const _0x1a862a=_0x4b2b2e;try{const _0x3a2191=await settingsModel[_0x1a862a(0xee)]({})[_0x1a862a(0xcd)](_0x1a862a(0xe7)+_0x2c6c36);return _0x3a2191&&_0x3a2191['settings']&&_0x3a2191['settings'][_0x1a862a(0x112)](_0x2c6c36)?_0x3a2191['settings'][_0x1a862a(0xfe)](_0x2c6c36):null;}catch(_0xdfc04c){return null;}},addSticker=async(_0x2b5cbc,_0x48347d,_0x2f820b,_0x53c6a5)=>{const _0x440138=_0x4b2b2e;if(!_0x2b5cbc||!_0x48347d||!_0x53c6a5)return;try{const _0x4e536c=await stickerModel[_0x440138(0xee)]({[_0x440138(0xe8)+_0x2b5cbc]:{'$exists':!![]}});if(_0x4e536c)return;const _0x180b23={'text':_0x48347d,'mentionedJid':_0x2f820b,'creator':_0x53c6a5,'at':Date[_0x440138(0xf8)](),'locked':![]},_0x416ee1=await stickerModel[_0x440138(0xee)]({});if(!_0x416ee1){const _0x13b2d9=new stickerModel({'stickers':{[_0x2b5cbc]:_0x180b23}});await _0x13b2d9[_0x440138(0x134)]();}else _0x416ee1['stickers']['set'](_0x2b5cbc,_0x180b23),await _0x416ee1[_0x440138(0x134)]();}catch(_0xe35e74){throw _0xe35e74;}},getStickerById=async _0x391694=>{const _0x29f6fe=_0x4b2b2e;if(!_0x391694)throw new Error('Missing\x20required\x20field:\x20stickerId');try{const _0x1ded11=await stickerModel['findOne']({[_0x29f6fe(0xe8)+_0x391694]:{'$exists':!![]}});if(!_0x1ded11)return null;const _0x265d9d=_0x1ded11['stickers']['get'](_0x391694);return _0x265d9d;}catch(_0x3293a4){throw _0x3293a4;}},deleteStickerById=async _0x56f1b1=>{const _0x419174=_0x4b2b2e;if(!_0x56f1b1)throw new Error(_0x419174(0x10b));try{const _0x5f0f21=await stickerModel[_0x419174(0xee)]({['stickers.'+_0x56f1b1]:{'$exists':!![]}});if(!_0x5f0f21)return _0x419174(0x11b);return _0x5f0f21[_0x419174(0xd7)][_0x419174(0xe9)](_0x56f1b1),_0x5f0f21[_0x419174(0xd7)]['size']===0x0?(await stickerModel['deleteOne']({'_id':_0x5f0f21['_id']}),_0x419174(0xe5)):(await _0x5f0f21['save'](),_0x419174(0xcf));}catch(_0x33092d){throw _0x33092d;}},getAllStickers=async()=>{const _0x51e520=_0x4b2b2e;try{const _0x50c590=await stickerModel[_0x51e520(0x13c)]({});let _0x90b53d=[];return _0x50c590[_0x51e520(0x116)](_0x28b098=>{const _0x5d396e=_0x51e520;_0x28b098[_0x5d396e(0xd7)]['forEach']((_0x30313f,_0x45c7d3)=>{const _0x4dd97f=_0x5d396e;_0x90b53d[_0x4dd97f(0xe2)]({'stickerId':_0x45c7d3,..._0x30313f});});}),_0x90b53d;}catch(_0x226b63){}},getAllStickerTexts=async()=>{const _0x2fc219=_0x4b2b2e;try{const _0x4cae94=await stickerModel['find'](),_0x313a93=[];for(const _0x204726 of _0x4cae94){const _0x2ec0fa=_0x204726[_0x2fc219(0xd7)];_0x2ec0fa[_0x2fc219(0x116)]((_0x46c312,_0x38a4bf)=>{const _0x5a2f46=_0x2fc219;_0x313a93[_0x5a2f46(0xe2)]({'text':_0x46c312[_0x5a2f46(0x124)],'locked':_0x46c312['locked']});});}return _0x313a93;}catch(_0x191ead){return[];}},deleteAllStickers=async()=>{const _0x3f5696=_0x4b2b2e;try{const _0x9fb058=await stickerModel[_0x3f5696(0x11c)]({});return _0x9fb058[_0x3f5696(0x125)]+_0x3f5696(0x130);}catch(_0x3d679a){}},deleteLockedFalseStickers=async()=>{const _0x12c429=_0x4b2b2e;try{const _0x50d208=await stickerModel[_0x12c429(0x13c)]();let _0x5746c9=0x0;for(const _0x4cc856 of _0x50d208){const _0x59f4e0=_0x4cc856[_0x12c429(0xd7)];let _0x423991=[];for(const [_0x1545c6,_0x3d18d3]of _0x59f4e0['entries']()){!_0x3d18d3['locked']&&_0x423991['push'](_0x1545c6);}if(_0x423991[_0x12c429(0x101)]>0x0){for(const _0x1a212d of _0x423991){_0x59f4e0['delete'](_0x1a212d),_0x5746c9++;}await _0x4cc856[_0x12c429(0x134)]();}}}catch(_0x6a36d9){}},lockStickerById=async _0x2e8ef1=>{const _0x44fdf4=_0x4b2b2e;try{const _0x5db553=await stickerModel['find']();for(const _0x151f9e of _0x5db553){const _0x518b21=_0x151f9e[_0x44fdf4(0xd7)];if(_0x518b21[_0x44fdf4(0x112)](_0x2e8ef1)){const _0xb3a738=_0x518b21[_0x44fdf4(0xfe)](_0x2e8ef1);if(_0xb3a738[_0x44fdf4(0x119)])return _0x44fdf4(0x137);return _0xb3a738[_0x44fdf4(0x119)]=!![],await _0x151f9e[_0x44fdf4(0x134)](),_0x44fdf4(0x119);}}return'notFound';}catch(_0x51a116){return _0x44fdf4(0xd8);}},isStickerLocked=async _0x17c2c0=>{const _0x31f332=_0x4b2b2e;try{const _0x483900=await stickerModel[_0x31f332(0x13c)]();for(const _0x694f28 of _0x483900){const _0x3e67ef=_0x694f28[_0x31f332(0xd7)];if(_0x3e67ef['has'](_0x17c2c0)){const _0x4be67e=_0x3e67ef['get'](_0x17c2c0);return _0x4be67e['locked'];}}return![];}catch(_0xc98e36){return![];}},doesStickerIdExist=async _0x4d5a97=>{const _0x23122b=_0x4b2b2e;try{const _0x511fa2=await stickerModel['find']();for(const _0xe02b1 of _0x511fa2){const _0x37b689=_0xe02b1['stickers'];if(_0x37b689[_0x23122b(0x112)](_0x4d5a97))return!![];}return![];}catch(_0x44fa94){return![];}},getStickerByHash=async _0x102860=>{const _0x3cb060=_0x4b2b2e;try{const _0x1d9738=await stickerModel[_0x3cb060(0x13c)]();for(const _0x1c22a3 of _0x1d9738){const _0x36d63a=_0x1c22a3[_0x3cb060(0xd7)];if(_0x36d63a[_0x3cb060(0x112)](_0x102860))return _0x36d63a[_0x3cb060(0xfe)](_0x102860);}return null;}catch(_0x540b85){return null;}},banUser=async(_0x397809,_0xde2483,_0x5c5cd8)=>{const _0x56e78c=_0x4b2b2e;try{const _0x4bada3=await userModel[_0x56e78c(0xee)]({'jid':_0x397809});if(_0x4bada3){const _0x8b8571=await userModel[_0x56e78c(0xff)]({'jid':_0x397809},{'isBanned':!![]},{'upsert':!![]});return _0x8b8571;}else{const _0x1593b2=randomBytes(0x10)[_0x56e78c(0x11e)](_0x56e78c(0x106)),_0x38c7e0={'jid':_0x397809,'name':_0xde2483,'serialNumber':_0x1593b2,'phoneNumber':_0x5c5cd8,'isBanned':!![],'createdAt':new Date()},_0x56b9e9=new userModel(_0x38c7e0);return await _0x56b9e9['save'](),_0x56b9e9;}}catch(_0x17aa69){return![];}},unbanUser=async _0x1d6a4c=>{const _0x3e488a=_0x4b2b2e;try{const _0x94d3ee=await userModel[_0x3e488a(0xee)]({'jid':_0x1d6a4c});if(!_0x94d3ee)return _0x3e488a(0x131);if(!_0x94d3ee[_0x3e488a(0x133)])return _0x3e488a(0x135);const _0x3fd1c3=await resetWarningCount(_0x1d6a4c);if(!_0x3fd1c3)return![];return _0x94d3ee[_0x3e488a(0x133)]=![],await _0x94d3ee[_0x3e488a(0x134)](),!![];}catch(_0x167605){return![];}},isUserBanned=async _0x6e6774=>{const _0x5a079a=_0x4b2b2e;try{const _0x48b4c2=await userModel[_0x5a079a(0xee)]({'jid':_0x6e6774});if(!_0x48b4c2)return![];return _0x48b4c2[_0x5a079a(0x133)];}catch(_0x50e7f4){return _0x50e7f4;}},addUser=async(_0x57086f,_0x224f61,_0x141155)=>{const _0xe5742f=_0x4b2b2e;try{const _0x2475b4=await userModel[_0xe5742f(0xee)]({'jid':_0x57086f});if(_0x2475b4)return;const _0x322f20=randomBytes(0x10)[_0xe5742f(0x11e)](_0xe5742f(0x106)),_0x1a102b={'jid':_0x57086f,'name':_0x224f61,'serialNumber':_0x322f20,'phoneNumber':_0x141155,'isBanned':![],'createdAt':new Date()},_0x30b2fc=new userModel(_0x1a102b);await _0x30b2fc[_0xe5742f(0x134)]();}catch(_0x10bab8){if(_0x10bab8[_0xe5742f(0xf2)]===0x2af8){}else return![];}},getAllUserPhoneNumbers=async()=>{const _0x425c73=_0x4b2b2e;try{const _0x43516f=await userModel[_0x425c73(0x13c)]({},_0x425c73(0x122));return _0x43516f[_0x425c73(0x107)](_0x272c4c=>_0x272c4c['jid']);}catch(_0x33f2be){return![];}},getAllUsers=async()=>{try{const _0x28a7fe=await userModel['find']({});return _0x28a7fe;}catch(_0x2b00b8){return![];}},addWarning=async _0x2af184=>{const _0xabc495=_0x4b2b2e;try{let _0x2b084e=await warningModel[_0xabc495(0xee)]({'userId':_0x2af184});return!_0x2b084e?_0x2b084e=new warningModel({'userId':_0x2af184,'count':0x1}):_0x2b084e[_0xabc495(0x113)]+=0x1,await _0x2b084e[_0xabc495(0x134)](),_0x2b084e[_0xabc495(0x113)];}catch(_0x1c9edb){return'Failed\x20to\x20add\x20warning.';}},resetWarningCount=async _0x45e9c6=>{const _0x4fd22e=_0x4b2b2e;try{let _0x2c7143=await warningModel[_0x4fd22e(0xee)]({'userId':_0x45e9c6});return _0x2c7143&&(_0x2c7143[_0x4fd22e(0x113)]=0x0,await _0x2c7143[_0x4fd22e(0x134)]()),_0x2c7143?_0x2c7143[_0x4fd22e(0x113)]:0x0;}catch(_0x15da8a){return![];}},getWarningCount=async _0x581efc=>{const _0x539697=_0x4b2b2e;try{const _0x4535af=await warningModel[_0x539697(0xee)]({'userId':_0x581efc});return _0x4535af?_0x4535af[_0x539697(0x113)]:0x0;}catch(_0x11eadc){return _0x539697(0xef);}},opentime=async(_0x2df9ec,_0x4ce047)=>{const _0x24f930=_0x4b2b2e,_0x1d10a8=new Date(Date['now']()+_0x4ce047);try{const _0x427208=await groupModel[_0x24f930(0xff)]({'groupId':_0x2df9ec},{'openAt':_0x1d10a8,'openStatus':_0x24f930(0x12a)},{'upsert':!![],'new':!![]});return{'success':!![],'openAt':_0x427208[_0x24f930(0xde)]};}catch(_0x387aa4){return{'success':![],'error':_0x387aa4};}},closetime=async(_0x40879f,_0x30c657)=>{const _0xcfa116=_0x4b2b2e,_0x5efbb7=new Date(Date['now']()+_0x30c657);try{const _0x1508f1=await groupModel[_0xcfa116(0xff)]({'groupId':_0x40879f},{'closeAt':_0x5efbb7,'closeStatus':_0xcfa116(0x12a)},{'upsert':!![],'new':!![]});return{'success':!![],'closeAt':_0x1508f1[_0xcfa116(0x13d)]};}catch(_0x370307){return{'success':![],'error':_0x370307};}},checkGroupStatus=async _0x40c92e=>{const _0x4dd604=_0x4b2b2e;try{const _0x191f83=await groupModel['findOne']({'groupId':_0x40c92e});if(!_0x191f83)return{'status':_0x4dd604(0x120),'message':_0x4dd604(0x12e)};const _0x12e974=new Date();if(_0x191f83[_0x4dd604(0xde)]&&_0x191f83[_0x4dd604(0xde)]>_0x12e974&&_0x191f83['openStatus']==='pending')return{'status':_0x4dd604(0xea),'message':'Group\x20open\x20is\x20scheduled.'};if(_0x191f83[_0x4dd604(0x13d)]&&_0x191f83[_0x4dd604(0x13d)]>_0x12e974&&_0x191f83[_0x4dd604(0x129)]===_0x4dd604(0x12a))return{'status':_0x4dd604(0x123),'message':_0x4dd604(0x126)};if(_0x191f83['openAt']&&_0x191f83['openAt']<=_0x12e974&&_0x191f83[_0x4dd604(0x136)]===_0x4dd604(0x111)&&(!_0x191f83[_0x4dd604(0x13d)]||_0x191f83[_0x4dd604(0x13d)]>_0x12e974||_0x191f83['closeStatus']==='pending'))return{'status':_0x4dd604(0x11d),'message':_0x4dd604(0x13b)};if(_0x191f83['closeAt']&&_0x191f83[_0x4dd604(0x13d)]<=_0x12e974&&_0x191f83[_0x4dd604(0x129)]===_0x4dd604(0x111))return{'status':_0x4dd604(0xda),'message':_0x4dd604(0xec)};return{'status':_0x4dd604(0x10d),'message':_0x4dd604(0xf5)};}catch(_0xf58780){return{'status':_0x4dd604(0xd8),'error':_0xf58780};}},checkScheduledGroups=async _0x41dd05=>{const _0x5997e4=_0x4b2b2e;try{const _0x25389b=new Date(),_0x53c9be=await groupModel['find']({'$or':[{'closeAt':{'$lte':_0x25389b},'closeStatus':_0x5997e4(0x12a)},{'openAt':{'$lte':_0x25389b},'openStatus':'pending'}]});for(const _0x191b43 of _0x53c9be){try{_0x191b43[_0x5997e4(0x13d)]&&_0x191b43['closeAt']<=_0x25389b&&_0x191b43[_0x5997e4(0x129)]===_0x5997e4(0x12a)&&(await _0x41dd05[_0x5997e4(0x139)](_0x191b43['groupId'],'announcement'),await _0x41dd05[_0x5997e4(0xfa)](_0x191b43['groupId'],{'text':_0x5997e4(0xf4)}),await groupModel[_0x5997e4(0xce)]({'groupId':_0x191b43[_0x5997e4(0xe1)]},{'closeStatus':'done'})),_0x191b43['openAt']&&_0x191b43[_0x5997e4(0xde)]<=_0x25389b&&_0x191b43['openStatus']==='pending'&&(await _0x41dd05[_0x5997e4(0x139)](_0x191b43[_0x5997e4(0xe1)],_0x5997e4(0xeb)),await _0x41dd05[_0x5997e4(0xfa)](_0x191b43[_0x5997e4(0xe1)],{'text':_0x5997e4(0xd9)}),await groupModel[_0x5997e4(0xce)]({'groupId':_0x191b43[_0x5997e4(0xe1)]},{'openStatus':_0x5997e4(0x111)}));}catch(_0x5dabc6){console[_0x5997e4(0xd8)](_0x5997e4(0xe4)+_0x191b43['groupId'],_0x5dabc6[_0x5997e4(0x10a)]);}}}catch(_0xd105c){console[_0x5997e4(0xd8)](_0x5997e4(0x12f),_0xd105c[_0x5997e4(0x10a)]);}};module[_0x4b2b2e(0xe6)]={'saveSettings':saveSettings,'updateSettingsField':updateSettingsField,'getSettingField':getSettingField,'addUser':addUser,'getSettings':getSettings,'loadSettings':loadSettings,'addSticker':addSticker,'getStickerById':getStickerById,'deleteStickerById':deleteStickerById,'getAllStickers':getAllStickers,'getAllStickerTexts':getAllStickerTexts,'deleteAllStickers':deleteAllStickers,'deleteLockedFalseStickers':deleteLockedFalseStickers,'lockStickerById':lockStickerById,'isStickerLocked':isStickerLocked,'doesStickerIdExist':doesStickerIdExist,'getStickerByHash':getStickerByHash,'getAllUserPhoneNumbers':getAllUserPhoneNumbers,'unbanUser':unbanUser,'getAllUsers':getAllUsers,'banUser':banUser,'unbanChat':unbanChat,'banChat':banChat,'checkChatExists':checkChatExists,'checkBanStatus':checkBanStatus,'updateChatStatus':updateChatStatus,'getBannedChatsList':getBannedChatsList,'deleteAllChats':deleteAllChats,'addOwnerNumber':addOwnerNumber,'getAuthNum':getAuthNum,'deleteOwnerNumber':deleteOwnerNumber,'checkOwnerNumber':checkOwnerNumber,'addBadWord':addBadWord,'deleteBadWord':deleteBadWord,'listBadWords':listBadWords,'addWarning':addWarning,'getWarningCount':getWarningCount,'isUserBanned':isUserBanned,'initializeUserConversations':initializeUserConversations,'loadUserConversations':loadUserConversations,'saveUserConversations':saveUserConversations,'opentime':opentime,'closetime':closetime,'checkGroupStatus':checkGroupStatus,'checkScheduledGroups':checkScheduledGroups};